
struct object
{
    inner: &i64;

    fn drop(self: &object) -> null
    {
        println("dropping object");
        delete self->inner;
    }
}

fn make_ptr(val: i64) -> object
{
    p1 := new i64;
    *p1 = val;
    return object(p1);
}

{
    println("before");
    x := make_ptr(5);
    println("after");
}

println("end");