
struct object
{
    inner: &i64;

    fn drop(self: &object)
    {
        println("dropping object");
        delete self->inner;
    } 

    fn copy(self: &object, other: &i64)
    {
        
    }
}

fn make_ptr(val: i64) -> object
{
    p1 := new i64;
    *p1 = val;
    return object(p1);
}

{
    println("before");
    x := object(new i64);
    println("after");
}

println("end");